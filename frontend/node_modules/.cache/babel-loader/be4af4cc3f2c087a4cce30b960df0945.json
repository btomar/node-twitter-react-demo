{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport useInterval from './hooks/useInterval';\n\nconst useTwitterApi = () => {\n  const [tweets, setTweets] = useState({\n    tweets: []\n  });\n  const [url, setUrl] = useState(`http://localhost:3001/api/v1/statuses/home_timeline`);\n  const [query, setQuery] = useState('');\n  const [isError, setIsError] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [delay, setDelay] = useState(2000);\n  useInterval(() => {\n    // Do some API call here\n    const fetchTweetUpdates = async () => {\n      setIsError(false);\n      setIsLoading(true);\n\n      try {\n        const result = await axios(`http://localhost:3001/api/v1/statuses/filter?screen_name=${query}`);\n        setTweets(result.data);\n      } catch (error) {\n        setIsError(true);\n      }\n\n      setIsLoading(false);\n    };\n\n    fetchTweetUpdates();\n    setTimeout(() => {\n      console.log('Fetching user latest tweers');\n    }, 2000);\n  }, delay);\n  useEffect(() => {\n    const fetchTweets = async () => {\n      setIsError(false);\n      setIsLoading(true);\n\n      try {\n        const result = await axios(url);\n        setTweets(result.data);\n      } catch (error) {\n        setIsError(true);\n      }\n\n      setIsLoading(false);\n    };\n\n    fetchTweets();\n  }, [url]);\n  return [{\n    tweets,\n    isLoading,\n    isError\n  }, setUrl];\n};\n\nexport default useTwitterApi;","map":{"version":3,"sources":["/home/tomarb/twitter-node/slync-test-bhuvanesh-tomar/frontend/react-node-twitter-app/src/hooks/useTwitterApi.js"],"names":["useState","useEffect","axios","useInterval","useTwitterApi","tweets","setTweets","url","setUrl","query","setQuery","isError","setIsError","isLoading","setIsLoading","delay","setDelay","fetchTweetUpdates","result","data","error","setTimeout","console","log","fetchTweets"],"mappings":"AACA,SAASA,QAAT,EAAmBC,SAAnB,QAAmC,OAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;;AAEA,MAAMC,aAAa,GAAG,MAAM;AAC1B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC;AAAEK,IAAAA,MAAM,EAAE;AAAV,GAAD,CAApC;AACA,QAAM,CAACE,GAAD,EAAMC,MAAN,IAAgBR,QAAQ,CAC3B,qDAD2B,CAA9B;AAGA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,IAAD,CAAlC;AAEAG,EAAAA,WAAW,CAAC,MAAM;AAChB;AACA,UAAMc,iBAAiB,GAAG,YAAY;AACpCL,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,YAAY,CAAC,IAAD,CAAZ;;AACA,UAAI;AACF,cAAMI,MAAM,GAAG,MAAMhB,KAAK,CAAE,4DAA2DO,KAAM,EAAnE,CAA1B;AACAH,QAAAA,SAAS,CAACY,MAAM,CAACC,IAAR,CAAT;AACD,OAHD,CAGE,OAAOC,KAAP,EAAc;AACdR,QAAAA,UAAU,CAAC,IAAD,CAAV;AACD;;AACDE,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAVD;;AAYAG,IAAAA,iBAAiB;AACjBI,IAAAA,UAAU,CAAC,MAAM;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GAlBU,EAkBRR,KAlBQ,CAAX;AAoBAd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMuB,WAAW,GAAG,YAAY;AAC9BZ,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,YAAY,CAAC,IAAD,CAAZ;;AAEA,UAAI;AACF,cAAMI,MAAM,GAAG,MAAMhB,KAAK,CAACK,GAAD,CAA1B;AAEAD,QAAAA,SAAS,CAACY,MAAM,CAACC,IAAR,CAAT;AACD,OAJD,CAIE,OAAOC,KAAP,EAAc;AACdR,QAAAA,UAAU,CAAC,IAAD,CAAV;AACD;;AAEDE,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAbD;;AAeAU,IAAAA,WAAW;AAGZ,GAnBQ,EAmBN,CAACjB,GAAD,CAnBM,CAAT;AAsBA,SAAO,CAAC;AAAEF,IAAAA,MAAF;AAAUQ,IAAAA,SAAV;AAAqBF,IAAAA;AAArB,GAAD,EAAiCH,MAAjC,CAAP;AACD,CArDD;;AAuDA,eAAeJ,aAAf","sourcesContent":["\nimport { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport useInterval from './hooks/useInterval';\n\nconst useTwitterApi = () => {\n  const [tweets, setTweets] = useState({ tweets: [] });\n  const [url, setUrl] = useState(\n    `http://localhost:3001/api/v1/statuses/home_timeline`,\n  );\n  const [query, setQuery] = useState('');\n  const [isError, setIsError] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [delay, setDelay] = useState(2000);\n\n  useInterval(() => {\n    // Do some API call here\n    const fetchTweetUpdates = async () => {\n      setIsError(false);\n      setIsLoading(true);\n      try {\n        const result = await axios(`http://localhost:3001/api/v1/statuses/filter?screen_name=${query}`);\n        setTweets(result.data);\n      } catch (error) {\n        setIsError(true);\n      }\n      setIsLoading(false);\n    };\n \n    fetchTweetUpdates();\n    setTimeout(() => {\n      console.log('Fetching user latest tweers');\n    }, 2000);\n  }, delay);\n\n  useEffect(() => {\n    const fetchTweets = async () => {\n      setIsError(false);\n      setIsLoading(true);\n \n      try {\n        const result = await axios(url);\n \n        setTweets(result.data);\n      } catch (error) {\n        setIsError(true);\n      }\n \n      setIsLoading(false);\n    };\n \n    fetchTweets();\n\n\n  }, [url]);\n\n \n  return [{ tweets, isLoading, isError }, setUrl];\n}\n\nexport default useTwitterApi;"]},"metadata":{},"sourceType":"module"}